FROM node:22.17.1
ENV TZ="America/Sao_Paulo"
ARG VITE_TURNSTILE_SITE_KEY
ENV VITE_TURNSTILE_SITE_KEY=$VITE_TURNSTILE_SITE_KEY
ARG VITE_DOMAIN
ENV VITE_DOMAIN=$VITE_DOMAIN
ARG VITE_API_URL
ENV VITE_API_URL=$VITE_API_URL
WORKDIR /app/
COPY ./website/ /app/
RUN npm install
RUN npm run build
EXPOSE 4173
CMD ["npm", "run", "preview"]